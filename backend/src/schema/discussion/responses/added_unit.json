{
  "definitions": {
    "$$target": ["#/definitions/chat_meta", "#/definitions/doc_meta"],
    "chat_meta": {"$ref": "chat_meta.json#/chat_meta"},
    "doc_meta": {"$ref": "doc_meta.json#/doc_meta"}
  },
  "base": {
    "type": "object",
    "properties": {
      "unit_id": {"type": "string"},
      "parent": {"type": "string"},
      "position": {"type": "integer", "minimum": 0},
      "doc_meta": {"$ref": "#/definitions/doc_meta"},
      "chat_meta": {"$ref": "#/definitions/chat_meta"}
    },
    "required": ["unit_id", "parent", "position", "doc_meta", "chat_meta"]
  }
}

